<div class="container">
  <%= render 'users/message',book: @book %>
  <div class="col-5 mx-auto">
    <h1>Editing Book</h1>

   <%= form_with model: @book do |f| %>

  <div class="form-group">
   <label for="book_title">Title</label><br>
   <%= f.text_field :title, class: "form-control" %>
  </div>

  <div class="form-group">
   <label for="book_body">Body</label><br>
   <%= f.text_area :body, class: "form-control" %>
  </div>

  <div id="book-star-<%= @book.id %>"></div>
  <script>
    $(document).on("turbolinks:load", function() {
      $('#book-star-<%= @book.id %>').empty();
      let elem = document.querySelector('#book-star-<%= @book.id %>');
      let opt = {
        size     : 40,
        starOff:  '<%= asset_path('star-off.png') %>',
        starOn : '<%= asset_path('star-on.png') %>',
        readOnly: true,
        score: '<%= @book.star %>'
      };
      raty(elem,opt);
    });
  </script>

   <button type="submit" class="btn btn-success">Update Book</button>

<% end %>
<%= link_to "Show", book_path(@book.id) %>
<span>|</span>
<%= link_to "Back", books_path %>
  </div>


</div>
